<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reaction Test – Minigame Arena</title>
    <link rel="stylesheet" href="../css/style.css" />
    <style>
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 2rem;
        }

        .circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: #555;
            margin: 2rem;
        }

        .ready {
            background: #ff5555;
            cursor: pointer;
        }

        .msg {
            font-size: 1.5rem;
            margin-top: 1rem;
        }
    </style>
</head>

<body>
    <div class="nav">
        <a href="../index.html" class="nav-link">Home</a>
    </div>
    <div class="game-container">
        <h1>Reaction Test</h1>
        <p>Clicca appena il cerchio diventa rosso.</p>
        <div id="circle" class="circle"></div>
        <div id="result" class="msg"></div>
    </div>
    <script>
        const circle = document.getElementById('circle');
        const result = document.getElementById('result');
        let startTime;
        function startRound() {
            result.textContent = '';
            circle.className = 'circle';
            const delay = 1000 + Math.random() * 2000; // 1‑3 s
            setTimeout(() => {
                circle.classList.add('ready');
                startTime = Date.now();
            }, delay);
        }
        circle.addEventListener('click', () => {
            if (!startTime) return; // clicked too early
            const reaction = Date.now() - startTime;
            result.textContent = `Tempo di reazione: ${reaction} ms`;
            startTime = null;
            setTimeout(startRound, 1500);
        });
        startRound();
    </script>
</body>

</html>